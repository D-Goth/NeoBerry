<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NeoBerry - Black-Lab</title>
<link rel="icon" href="{{ url_for('static', filename='img/rbw-bl_circle_400x400.png') }}" type="image/png">
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>

<body>
  <header>
    <a href="/" aria-label="Accueil">
      <img src="{{ url_for('static', filename='img/website.png') }}" alt="Logo NeoBerry - By Black-Lab" id="logo" />
    </a>
      <div id="battery-gauge">
       <div id="battery-level">
         <div id="battery-fill"></div>
         <div id="battery-percent">--%</div>
       </div>
       <div id="battery-tip"></div>
      </div>

    <a href="{{ url_for('auth.logout') }}" id="logout-btn" role="button" aria-label="D√©connexion">D√©connexion</a>
  </header>

  <h1>
    <span class="title-empty" data-text="NeoBerry - Black-Lab">NeoBerry - Black-Lab</span>
  </h1>

  <div id="refresh-container">
    <label for="refresh-interval">Intervalle de rafra√Æchissement :</label>
    <select id="refresh-interval">
      <option value="1000">1 seconde</option>
      <option value="3000" selected>3 secondes</option>
      <option value="5000">5 secondes</option>
      <option value="10000">10 secondes</option>
      <option value="30000">30 secondes</option>
      <option value="60000">60 secondes</option>
    </select>
  </div>

<section aria-labelledby="gpio-title" class="gpio-section" data-expanded="true">
    <h2 id="gpio-title">Contr√¥le GPIO</h2>
  <div id="gpio-controls" class="gpio-content" role="grid" aria-label="Contr√¥le des ports GPIO"></div>
</section>


  <section aria-labelledby="system-title">
    <h2 id="system-title">Surveillance Syst√®me</h2>
    <div class="section-content"></div>
      <div class="system-metrics-0" aria-label="Charge CPU, RAM et Temp√©ratures">
        <div class="metric-card-0">
          <div class="metric-title">Charge CPU</div>
          <canvas id="cpu-load-gauge" aria-label="Jauge de charge CPU" role="img"></canvas>
        </div>
        <div class="metric-card-0">
          <div class="metric-title">Temp√©rature CPU</div>
          <canvas id="cpu-temp-gauge" aria-label="Jauge de temp√©rature CPU" role="img"></canvas>
        </div>
        <div class="metric-card-0">
          <div class="metric-title">Charge RAM</div>
          <canvas id="ram-load-gauge" aria-label="Jauge de charge RAM" role="img"></canvas>
        </div>
        <div class="metric-card-0">
          <div class="metric-title">Temp√©rature Carte</div>
          <canvas id="board-temp-gauge" aria-label="Jauge de temp√©rature carte" role="img"></canvas>
        </div>
      </section>
      <section aria-labelledby="system-title">
    <h2 id="system-title">Surveillance Stockage</h2>
      <div class="system-metrics" aria-label="Surveillance stockage disque">
        <div class="metric-card">
          <div class="metric-title">Capacit√© Stockage (%)</div>
          <canvas id="disk-capacity-gauge" aria-label="Jauge capacit√© stockage" role="img"></canvas>
        </div>
        <div class="metric-card">
          <div class="metric-title">Usage Ecriture (%)</div>
          <canvas id="disk-write-gauge" aria-label="Jauge usage √©criture disque" role="img"></canvas>
        </div>
        <div class="metric-card">
          <div class="metric-title">Usage Lecture (%)</div>
          <canvas id="disk-read-gauge" aria-label="Jauge usage lecture disque" role="img"></canvas>
        </div>
      </div>
    </div>
  </section>

<section aria-labelledby="network-title">
    <h2 id="network-title">√âtat du R√©seau</h2>
    <div class="section-content-bt">
            <div class="bluetooth-status-panel" aria-label="Statut Bluetooth">
                <div style="display: flex; align-items: center; justify-content: space-between">
                    <span class="network-label">Bluetooth</span>
                    <label class="bt">
                        <input type="checkbox" id="bluetooth-toggle" />
                        <span class="slider-2"></span>
                    </label>
                </div>

                <div class="network-info" id="bluetooth-device">P√©riph√©rique connect√© : Aucun</div>

                <div style="text-align: center">
                    <div class="network-label">R√©ception Bluetooth</div>
                    <canvas id="bluetooth-quality-gauge" aria-label="Jauge qualit√© r√©ception Bluetooth" role="img"></canvas>
                </div>
            </div>

            <div class="bluetooth-terminal-wrapper">
                <div class="bluetooth-terminal-panel" aria-label="Terminal Bluetooth">
                    <div class="terminal-actions">
                        <button onclick="scanDevices()">üîç Scanner les p√©riph√©riques</button>
                    </div>
                </div>

                <ul id="devices-list" class="device-list"></ul>

                <div class="paired-devices" aria-label="P√©riph√©riques appair√©s">
                    <ul id="paired-devices-list"></ul>
                    <div class="terminal-cursor">‚ñÆ</div>
                </div>

                <div class="pin-section">
                    <label for="pin-input" class="pin-label">Saisir Code</label>
                    <input id="pin-input" type="text" placeholder="Validez code" />
                    <div class="terminal-actions">
                        <button id="validate-pin-btn">Valider</button>
                    </div>
                </div>

                <div class="scan-progress" id="scan-progress-container" style="display: none">
                    <div class="scan-bar-wrapper">
                        <div id="scan-progress-bar" class="scan-bar-fill"></div>
                    </div>
                </div>
            </div>
        </div>
               
    <div class="section-content">
        <div class="network-field-0" role="region" aria-label="√âtat Ethernet et Wifi">
            <div class="network-label">Type de R√©seau</div>
            <div id="network-type" style="font-weight: 700; font-size: 1.1rem; margin-bottom: 12px">Ethernet</div>

            <div style="display: flex; gap: 24px; justify-content: center; margin-bottom: 20px">
                <div style="flex: 1; max-width: 220px; text-align: center">
                    <div class="network-label">Upload</div>
                    <canvas id="network-up" aria-label="Jauge d√©bit montant r√©seau" role="img"></canvas>
                </div>
                <div style="flex: 1; max-width: 220px; text-align: center">
                    <div class="network-label">Download</div>
                    <canvas id="network-down" aria-label="Jauge d√©bit descendant r√©seau" role="img"></canvas>
                </div>
            </div>
        </div>

        <div id="wifi-section" style="display: none; margin-top: 18px">
            <div class="network-label">Puissance R√©seau WiFi</div>
            <canvas id="wifi-strength-gauge" aria-label="Jauge puissance r√©seau WiFi" role="img"></canvas>
            <div class="network-info" id="wifi-ssid">Nom r√©seau WiFi : Aucun</div>
        </div>
    </div>
</section>

<section id="info-sys" aria-labelledby="system-info-title">
  <h2 id="system-info-title">Informations Syst√®me</h2>

  <div class="section-content-sys">
    <div class="info-sys-content">
      <div class="sys-panel" aria-label="Informations syst√®me">
        <h3>Syst√®me</h3>
        <ul class="system-info-list">
          <li><strong>OS :</strong> <span id="sys-os">‚è≥</span></li>
          <li><strong>Nom :</strong> <span id="sys-hostname">‚è≥</span></li>
          <li><strong>Uptime :</strong> <span id="sys-uptime">‚è≥</span></li>
        </ul>
      </div>
    </div>
  <div class="section-content-svc">
    <div class="info-svc-content">
      <div class="svc-panel" aria-label="Services actifs">
        <h3>Services Actifs</h3>
        <ul class="services-list" id="services-list">
          <!-- Services inject√©s dynamiquement -->
        </ul>
      </div>
    </div>
  </div>
</section>



<section aria-labelledby="actions-title">
  <h2 id="actions-title">Actions</h2>

  <div id="action-icons" class="grouped-actions">
    <button id="restart-neoberry-button" class="dot-btn green">
      <span class="dot"></span> Red√©marrer NeoBerry
    </button>

    <button id="reboot-button" class="dot-btn orange">
      <span class="dot"></span> Reboot Raspberry Pi
    </button>

    <button id="shutdown-button" class="dot-btn red">
      <span class="dot"></span> Shutdown Raspberry Pi
    </button>
  </div>

  <hr class="action-separator" />
  <div id="action-buttons">
  
      <a href="https://github.com/D-Goth/NeoBerry" target="_blank" rel="noopener" role="button" tabindex="0">Projet GitHub</a>
      <a href="https://www.Black-Lab.fr" target="_blank" rel="noopener" role="button" tabindex="0">Site Web Black-Lab</a>
  </div>
</section>
  
<div id="confirm-container" class="modal-container" style="display: none">
  <div id="confirm-modal" class="modal">
    <h3 id="confirm-title">Confirmation</h3>
    <p id="confirm-text">Souhaitez-vous vraiment effectuer cette action&nbsp;?</p>
    <div class="auth-actions">
      <button id="confirm-yes" class="btn-confirm">‚úî Oui</button>
      <button onclick="closeConfirmModal()" class="btn-cancel">‚úñ Non</button>
    </div>
  </div>
</div>


<div id="auth-container" class="modal-container" style="display: none">
  <div id="auth-modal" class="modal">
    <h3 id="auth-title">Confirmation syst√®me</h3>
    <p>Saisissez √† nouveau votre mot de passe syst√®me&nbsp;:</p>
    <div class="input-with-eye">
      <input type="password" id="auth-password" />
      <span id="toggle-password" class="eye-icon">üëÅ</span>
    </div>
    <div class="auth-actions">
      <button id="auth-submit" class="btn-confirm">‚úî Valider</button>
      <button onclick="closeAuthModal()" class="btn-cancel">‚úñ Annuler</button>
    </div>
    <p id="auth-error" class="error-msg" style="display: none;"></p>

 </--üö¶-->
    <div id="progress-bar" class="scanner hidden"></div>
  </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1"></script>
<script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
<script type="module" src="{{ url_for('static', filename='js/list.js') }}"></script>

</body>

</html>
